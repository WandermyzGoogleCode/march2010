#summary 功能细化：基于Web的单向用户信息查询
#labels Type-Assignment,Phase-Requirements

<wiki:toc max_depth="3" />

=概述=
 * 所有单向用户的信息都可以由用户通过Web来查询。
 * 单向用户与双向用户相比，拥有更多的信息字段（如所属分类、地址等）
 * 用户可以通过某些规则（姓名、状态文本、分类等）来搜索单向用户
 * 客户端提供标准HTML和WAP两种呈现方式。由于目前大部分手机支持显示普通HTML页面，所以WAP的优先级可以放低。

=客户端=
==网页及其功能==
 * 首页`http://info.lives3.com/`
  # 文本框：简单搜索 -> `search.php?q=(str)`
  # 链接：高级搜索 -> `search.php`
  # 链接：Live'S Cube官网 -> `http://www.lives3.com`
  # 热门搜索词、最新用户之类的杂项（具体待定）
 * 高级搜索`search.php`	-> `search.php?(get_query)`
 可以详细制定搜索条件，目前设置为：
   # 姓名（商户名称）（模糊搜索）
   # 状态文本（模糊搜索）
   # 分类（下拉列表框，精确搜索）
 以后可以加上：
   # 地址（按地理位置模糊搜索）
 * 搜索结果`search.php?(get_query)`
  * 显示结果列表。列表项包含姓名、状态文本（截短）和分类，链接到用户信息`profile.php?uid=(int)`
  * 结果较多时，要支持分页（可以考虑以后再说）
 * 单向用户信息`profile.php?uid=(int)&(get_query)`
  * 单向用户的全部信息
  * 用户反馈表单 -> 用AJAX提交到`review.php`
   * 结果对你有用吗？（单选框）
   * 反馈信息（文本框） 
 * 单向用户注册`register.php`
  （待定，需要和短信平台协调）

=服务器端=
==脚本及其功能==
 * 首页`http://info.lives3.com/`
  * 判断浏览器类型，决定使用HTML模板还是WAP模板
  * 从数据库中读入热门搜索词、最新用户之类的杂项（具体待定）数据
 * 搜索search.php
  * 有GET查询字串，则进行搜索并显示搜索结果
  * 没有GET查询字串，则显示高级搜索表单
 * 单向用户信息`profile.php?uid=(int)`
  * 检查指定的用户是否存在、是否是单向用户
  * 从数据库中读入指定用户的信息
 * 用户反馈review.php
  * 将被搜索到的用户ID、搜索查询字串及用户填写的反馈信息存入数据库
==实现提示==
 * 基本确定使用PHP & MySQL
 * 基本确定不使用HTTPS
 * 用模板机制（考虑直接找现成的库）以实现HTML和WAP的切换
 * 搜索结果要做缓存，以实现分页（可以以后再说）
 * 数据库中为单向用户单独开一个表，记录单向用户比双向用户多出来的那些信息
 * 日志记录：对网页用户的搜索动作以及单向用户的更新动作做日志记录以便日后分析

=补充：Live'S Cube官网=
我们需要一个介绍Live'S Cube及提供客户端下载的官方网站，它和单向用户信息查询系统是分离的。
 * 介绍
 * 客户端下载
 * 论坛（主要用于接受用户反馈）
 * 在首页设置信息查询的文本框及高级搜索链接，以及指向查询系统首页`http://info.lives3.com/index.php`的链接
 * 建议分别为`http://www.lives3.com`和`http://info.lives3.com`做一个首页

=吐槽=
 * 好吧，我发现WEB这一块不需要任何网络传输方面的安全保护。之前说过的外部表格和自动执行的链接什么的也基本上没啥用……